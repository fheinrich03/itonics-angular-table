<h1 class="text-4xl font-bold">Starships Page</h1>

@if (query.isError()) {
    <div class="mt-4 rounded border border-red-200 bg-red-50 p-4 text-red-800">
        <div class="font-semibold">Error</div>
        <div class="mt-1">{{ query.error().message }}</div>
        <button class="mt-3 rounded bg-red-700 px-3 py-2 text-white" (click)="retryInitialLoad()">
            Retry
        </button>
    </div>
} @else {
    @if (query.isPending() && rows().length === 0) {
        <div class="mt-4 text-sm text-slate-600">Loadingâ€¦</div>
    }

    <app-table [rowData]="rows()" (loadMore)="onLoadMore()"></app-table>

    @if (allStarshipsLoaded() && rows().length > 0) {
        <div class="mt-2 text-center text-sm text-slate-500">All Starships Loaded</div>
    }
}
